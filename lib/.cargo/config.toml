[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "target-feature=+crt-static"]

[target.aarch64-pc-windows-msvc]
rustflags = ["-C", "target-feature=+crt-static"]

[target.x86_64-apple-darwin]
rustflags = ["-C", "link-args=-ObjC"]

[target.aarch64-apple-darwin]
rustflags = ["-C", "link-args=-ObjC"]

[target.aarch64-apple-ios]
rustflags = ["-C", "link-args=-mios-version-min=12.0 -ObjC"]

[target.aarch64-apple-ios-sim]
rustflags = ["-C", "link-args=-mios-version-min=12.0 -ObjC"]

[target.wasm32-unknown-emscripten]
rustflags = [
    "-Zlink-native-libraries=no",
    "-Ctarget-feature=+atomics,+bulk-memory,+mutable-globals",
    "-Clink-arg=-sSIDE_MODULE=2",
    "-Clink-args=-pthread",
    "-Cllvm-args=-enable-emscripten-cxx-exceptions=0",
]

[build]
target = "wasm32-unknown-emscripten"
toolchain = "nightly"

